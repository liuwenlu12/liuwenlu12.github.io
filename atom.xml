<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://liuwenlu12.github.io/</id>
    <title>Gridea</title>
    <updated>2019-12-15T14:06:22.120Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://liuwenlu12.github.io/"/>
    <link rel="self" href="https://liuwenlu12.github.io//atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://liuwenlu12.github.io//images/avatar.png</logo>
    <icon>https://liuwenlu12.github.io//favicon.ico</icon>
    <rights>All rights reserved 2019, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[Hadoop]]></title>
        <id>https://liuwenlu12.github.io//post/ce-shi</id>
        <link href="https://liuwenlu12.github.io//post/ce-shi">
        </link>
        <updated>2019-11-11T12:23:57.000Z</updated>
        <content type="html"><![CDATA[<p>ç®€ä»‹<br>
MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatis çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚</p>
<p>æ·»åŠ ä¾èµ–<br>
<dependency><br>
<groupId>com.baomidou</groupId><br>
<artifactId>mybatis-plus-boot-starter</artifactId><br>
<version>3.1.2</version><br>
</dependency><br>
ç‰¹æ€§<br>
æ— ä¾µå…¥ï¼š<br>
åªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘</p>
<p>æŸè€—å°ï¼š<br>
å¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ</p>
<p>å¼ºå¤§çš„ CRUD æ“ä½œï¼š<br>
å†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚</p>
<p>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨ï¼š<br>
é€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™</p>
<p>æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆï¼š<br>
æ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥ï¼ˆå†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequenceï¼‰ï¼Œå¯è‡ªç”±é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜</p>
<p>æ”¯æŒ ActiveRecord æ¨¡å¼ï¼š<br>
æ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼ºå¤§çš„ CRUD æ“ä½œ</p>
<p>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œï¼š<br>
æ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥ï¼ˆ Write once, use anywhere ï¼‰</p>
<p>å†…ç½®ä»£ç ç”Ÿæˆå™¨ï¼š<br>
é‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨</p>
<p>å†…ç½®åˆ†é¡µæ’ä»¶ï¼š<br>
åŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰åŒäºæ™®é€š List æŸ¥è¯¢</p>
<p>åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“ï¼š<br>
æ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€Postgreã€SQLServer2005ã€SQLServer ç­‰å¤šç§æ•°æ®åº“</p>
<p>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶ï¼š<br>
å¯è¾“å‡º Sql è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡ºæ…¢æŸ¥è¯¢</p>
<p>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶ï¼š<br>
æä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜²è¯¯æ“ä½œ</p>
<p>é€šç”¨Mapper<br>
å®ä½“ç±»Book.java<br>
@TableName(&quot;book&quot;) //å½“æ•°æ®åº“è¡¨åä¸å®ä½“ç±»ä¸åŒæ—¶<br>
public class Book {<br>
//ä½¿ç”¨TableIdæ³¨è§£æ ‡è®°ä¸»é”®å¯¹åº”çš„å±æ€§<br>
//valueï¼šä¸»é”®çš„å­—æ®µå<br>
//typeï¼šä¸»é”®çš„ç”Ÿæˆç­–ç•¥ï¼ŒIdType.AUTOï¼šä½¿ç”¨æ•°æ®åº“çš„è‡ªå¢<br>
@TableId(value = &quot;id&quot;,type = IdType.AUTO)<br>
private Long id;<br>
private String name;<br>
private String author;<br>
private Double price;<br>
@TableLogic //é€»è¾‘åˆ é™¤<br>
private Integer  status;<br>
@TableField(exist = false) //å½“æ­¤å±æ€§åœ¨è¡¨ä¸­æ²¡æœ‰æ—¶<br>
priver  String NO;<br>
//çœç•¥getterå’Œsetter<br>
}<br>
è®©Mapperæ¥å£ç»§æ‰¿è‡ªBaseMapperæ¥å£</p>
<p>import com.baomidou.mybatisplus.core.mapper.BaseMapper;<br>
import com.oaec.springbootmp.entity.Book;</p>
<p>public interface BookMapper extends BaseMapper<Book> {<br>
}<br>
æµ‹è¯•æ ¹æ®ç¼–å·æŸ¥è¯¢<br>
@SpringBootTest<br>
public class SpringbootMpApplicationTests {</p>
<pre><code>@Autowired
private BookMapper bookMapper;

@Test
public void contextLoads() {
    Book book = bookMapper.selectById(1001);
    System.out.println(&quot;book = &quot; + book);
}
</code></pre>
<p>}<br>
å¢åˆ æ”¹<br>
æ’å…¥æ•°æ®<br>
Book book = new Book();<br>
book.setName(&quot;çº¢æ¥¼æ¢¦&quot;);<br>
book.setAuthor(&quot;æ›¹é›ªèŠ¹&quot;);<br>
book.setPrice(19.92);<br>
//è¿”å›å€¼ä»£è¡¨å½±å“æ•°æ®åº“çš„è¡Œæ•°<br>
int insert = bookMapper.insert(book);<br>
System.out.println(&quot;insert = &quot; + insert);<br>
//æ’å…¥æˆåŠŸä¹‹åè‡ªåŠ¨å°†ç”Ÿæˆçš„ä¸»é”®ä¿å­˜åœ¨ä¸»é”®å¯¹åº”çš„å±æ€§<br>
System.out.println(&quot;book = &quot; + book);<br>
æ ¹æ®ä¸»é”®æ›´æ–°<br>
Book book = new Book();<br>
book.setId(1003L);<br>
//        book.setName(&quot;ä¸‰å›½æ¼”ä¹‰&quot;);<br>
book.setAuthor(&quot;ç½—è´¯ä¸­&quot;);<br>
//æ ¹æ®ä¸»é”®è¿›è¡Œæ•°æ®æ›´æ–°ï¼Œåªä¼šæ›´æ–°èµ‹å€¼çš„å±æ€§ï¼Œå€¼ä¸ºnullçš„å±æ€§ä¸ä¼šè¿›è¡Œä¿®æ”¹<br>
int i = bookMapper.updateById(book);<br>
System.out.println(&quot;i = &quot; + i);<br>
è‡ªå®šä¹‰æ¡ä»¶æ›´æ–°æ•°æ®</p>
<p>Book book = new Book();<br>
book.setPrice(10D);<br>
//å°†ä»·æ ¼å¤§äº20çš„ä¹¦ï¼Œä»·æ ¼ä¿®æ”¹ä¸º10<br>
//ç¬¬ä¸€ä¸ªå‚æ•°çš„å±æ€§ä¼šæ‹¼æ¥åœ¨setä¹‹åï¼Œç¬¬äºŒä¸ªå‚æ•°çš„æ¡ä»¶ä¼šæ‹¼æ¥åœ¨whereä¹‹å<br>
int update = bookMapper.update(book,<br>
Wrappers.<Book>lambdaUpdate().gt(Book::getPrice, 20));<br>
System.out.println(&quot;update = &quot; + update);<br>
æ ¹æ®ä¸»é”®åˆ é™¤<br>
bookMapper.deleteById(1161463992506478594L);<br>
æ ¹æ®ä¸»é”®æ‰¹é‡åˆ é™¤<br>
List<Long> idList = Arrays.asList(1006L, 1007L);<br>
int i = bookMapper.deleteBatchIds(idList);<br>
ä½¿ç”¨Mapä½œä¸ºæ¡ä»¶åˆ é™¤<br>
Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();<br>
map.put(&quot;name&quot;,&quot;è¥¿æ¸¸è®°&quot;);<br>
int i = bookMapper.deleteByMap(map);<br>
ä½¿ç”¨æ¡ä»¶æ„é€ å™¨åˆ é™¤<br>
int delete = bookMapper.delete(Wrappers.<Book>lambdaUpdate()<br>
.lt(Book::getPrice, 20));<br>
æŸ¥è¯¢<br>
æ ¹æ®ä¸»é”®æŸ¥è¯¢<br>
Book book = bookMapper.selectById(1003)<br>
æŸ¥è¯¢å…¨éƒ¨<br>
List<Book> books = bookMapper.selectList(null);<br>
è‡ªå®šä¹‰æŸ¥è¯¢æ¡ä»¶<br>
//æŸ¥è¯¢ä»·æ ¼å¤§äº10å…ƒçš„ä¹¦<br>
List<Book> books = bookMapper.selectList(Wrappers.<Book>lambdaQuery()<br>
.gt(Book::getPrice, 10));<br>
//æŸ¥è¯¢ä»·æ ¼å¤§äº10å…ƒçš„ä¹¦ï¼Œä¹¦åä¸ºâ€œä¸‰å›½æ¼”ä¹‰â€<br>
List<Book> books = bookMapper.selectList(Wrappers.<Book>lambdaQuery()<br>
.gt(Book::getPrice, 10)<br>
.eq(Book::getName, &quot;ä¸‰å›½æ¼”ä¹‰&quot;));<br>
//æŸ¥è¯¢ä¹¦ååŒ…å«â€œä¸‰â€çš„ä¹¦<br>
List<Book> books = bookMapper.selectList(Wrappers.<Book>lambdaQuery()<br>
.like(Book::getName, &quot;ä¸‰&quot;));<br>
//æŸ¥è¯¢ä¹¦åä»¥â€œä¸‰â€å¼€å¤´çš„ä¹¦<br>
List<Book> books = bookMapper.selectList(Wrappers.<Book>lambdaQuery()<br>
.likeRight(Book::getName, &quot;ä¸‰&quot;));<br>
åˆ†é¡µæŸ¥è¯¢<br>
é…ç½®ç±»ï¼šMybatisPlusConfig<br>
/**</p>
<ul>
<li>é…ç½®ç±»<br>
*/<br>
@Configuration<br>
public class MybatisPlusConfig {<br>
@Bean<br>
public PaginationInterceptor paginationInterceptor(){<br>
return new PaginationInterceptor();<br>
}<br>
}<br>
æŸ¥è¯¢ç¬¬1é¡µï¼Œæ¯é¡µ2æ¡<br>
//æŸ¥è¯¢ç»“æœä¸ºå®ä½“ç±»å‹<br>
IPage<Book> page = bookMapper.selectPage(new Page<Book>(1, 2), null);<br>
//æŸ¥è¯¢ç»“æœä¸ºMapç±»å‹<br>
IPage&lt;Map&lt;String, Object&gt;&gt; page = bookMapper.selectMapsPage(new Page&lt;&gt;(1, 2), null);<br>
IPageæ¥å£<br>
List getRecords(); è·å–æŸ¥è¯¢è®°å½•<br>
long getTotal(); è·å–æ€»æ•°é‡<br>
long getPages() è·å–æ€»é¡µæ•°<br>
é€šç”¨Service<br>
Serviceæ¥å£ç»§æ‰¿IService<br>
import com.baomidou.mybatisplus.extension.service.IService;<br>
import com.oaec.springbootmp.entity.Book;</li>
</ul>
<p>public interface BookService extends IService<Book> {<br>
}<br>
Serviceå®ç°ç±»ç»§æ‰¿ServiceImplï¼Œå®ç°è‡ªå·±çš„Serviceæ¥å£<br>
import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;<br>
import com.oaec.springbootmp.entity.Book;<br>
import com.oaec.springbootmp.mapper.BookMapper;<br>
import com.oaec.springbootmp.service.BookService;<br>
import org.springframework.stereotype.Service;</p>
<p>@Service(&quot;bookService&quot;)<br>
public class BookServiceImpl extends ServiceImpl&lt;BookMapper, Book&gt; implements BookService {<br>
}<br>
é€»è¾‘åˆ é™¤<br>
application.ymlé…ç½®æ–‡ä»¶ä¸­é…ç½®ä»£è¡¨æ˜¯å¦åˆ é™¤çš„æ•°å€¼<br>
mybatis-plus:<br>
global-config:<br>
db-config:<br>
logic-delete-value: 0 # é€»è¾‘å·²åˆ é™¤å€¼(é»˜è®¤ä¸º 0)<br>
logic-not-delete-value: 1 # é€»è¾‘æœªåˆ é™¤å€¼(é»˜è®¤ä¸º 1)<br>
å®ä½“ä¸­è¡¨ç¤ºæ˜¯å¦åˆ é™¤çš„å±æ€§æ·»åŠ æ³¨è§£<br>
public class Book {<br>
@TableId(type = IdType.AUTO)<br>
private Long id;<br>
private String name;<br>
private Double price;<br>
//é€»è¾‘åˆ é™¤å­—æ®µ<br>
@TableLogic<br>
private Integer status;<br>
private Timestamp createTime;<br>
//çœç•¥getterå’Œsetter<br>
}<br>
æ‰§è¡ŒæŸ¥è¯¢<br>
List<Book> books = bookMapper.selectList(null);<br>
books.forEach(System.out::println);<br>
â€‹	æ‰§è¡Œçš„SQL</p>
<p>SELECT id,name,price,status,create_time FROM book WHERE status=1<br>
æ‰§è¡Œåˆ é™¤<br>
int i = bookMapper.deleteById(1L);<br>
System.out.println(&quot;i = &quot; + i);<br>
â€‹	æ‰§è¡Œçš„SQL</p>
<p>UPDATE book SET status=0 WHERE id=? AND status=1<br>
å¤‡æ³¨<br>
jdk1.8æ‰æ”¯æŒlambdaè¡¨è¾¾å¼ï¼Œå¦‚æœä½¿ç”¨jdk1.8ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨Wrappers.query()<br>
List<Book> books = bookMapper.selectList(Wrappers.<Book>query().like(&quot;name&quot;, &quot;ä¸‰&quot;));<br>
for (Book book : books) {<br>
System.out.println(&quot;book = &quot; + book);<br>
}</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://liuwenlu12.github.io//post/hello-gridea</id>
        <link href="https://liuwenlu12.github.io//post/hello-gridea">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>